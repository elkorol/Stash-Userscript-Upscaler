!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).ESRGANThick4x=t()}(this,function(){"use strict";function u(e){return l(e)?e[0]:e}var o,e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t={},n={},r={},s=e&&e.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=e&&e.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},i=e&&e.__rest||function(e,t){var n={};for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n},l=(Object.defineProperty(r,"__esModule",{value:!0}),r.getESRGANModelDefinition=void 0,function(e){return Array.isArray(e)}),c=(r.getESRGANModelDefinition=function(e){var c=e.scale,t=e.name,n=e.version,o=e.meta,r=o.architecture,o=i(o,["architecture"]),e=e.path||"models/".concat(c,"x/model.json");return"rdn"===r?{scale:c,modelType:"layers",_internals:{path:e,name:t,version:n},meta:a({architecture:r},o),inputRange:[0,255],outputRange:[0,255]}:{setup:function(t){var n,e=t.layers.Layer,o=.2;function r(){var e=n.call(this,{})||this;return e.beta=o,e}s(r,n=e),r.prototype.call=function(e){return t.mul(u(e),this.beta)},r.className="MultiplyBeta";var a,i;function l(){var e=i.call(this,{})||this;return e.scale=a,e}[r,(a=c,s(l,i=e),l.prototype.computeOutputShape=function(e){return[e[0],e[1],e[2],3]},l.prototype.call=function(e){return t.depthToSpace(u(e),this.scale,"NHWC")},l.className="PixelShuffle".concat(c,"x"),l)].forEach(function(e){t.serialization.registerClass(e)})},scale:c,modelType:"layers",_internals:{path:e,name:t,version:n},meta:a({architecture:r},o),inputRange:[0,1],outputRange:[0,1]}},{}),f=(Object.defineProperty(c,"__esModule",{value:!0}),c.VERSION=c.NAME=void 0,c.NAME="@upscalerjs/esrgan-thick",c.VERSION="1.0.0-beta.13",Object.defineProperty(n,"__esModule",{value:!0}),r),p=c,r=(n.default=function(e,t){return(0,f.getESRGANModelDefinition)({scale:e,path:"models/".concat(e,"x/model.json"),name:p.NAME,version:p.VERSION,meta:{C:4,D:3,G:32,G0:64,T:10,architecture:"rrdn",patchSize:3===e?129:128,size:"thick",artifactReducing:!1,sharpening:!1,dataset:"div2k",modelFileName:t}})},e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}}),c=(Object.defineProperty(t,"__esModule",{value:!0}),r(n));return t.default=(0,c.default)(4,"rrdn-C4-D3-G32-G064-T10-x4-patchsize128-compress100-sharpen0-datadiv2k-vary_cFalse_epoch497")});